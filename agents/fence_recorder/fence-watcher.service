[Unit]
Description=Fence Request Watcher
After=network.target

[Service]
Type=simple
ExecStart=/usr/bin/python3 /usr/local/bin/external_fence_watcher.py
Restart=always
RestartSec=5
StandardOutput=journal
StandardError=journal
SyslogIdentifier=fence-watcher

# Environment variables (optional overrides)
# Note: fence_recorder.py uses these same environment variables
#Environment="LOG_DIR=/var/log/fence-recorder"
#Environment="REQUEST_DIR=/localdisk/fence-recorder/requests"
#Environment="RESPONSE_DIR=/localdisk/fence-recorder/responses"
#Environment="FENCE_TIMEOUT=60"
#Environment="POLL_INTERVAL=0.5"
#Environment="CLEANUP_MAX_AGE=300"

[Install]
WantedBy=multi-user.target
